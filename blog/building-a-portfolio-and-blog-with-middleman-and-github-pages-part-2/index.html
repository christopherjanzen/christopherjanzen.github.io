<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width">
		<!-- Always force latest IE rendering engine or request Chrome Frame -->
		<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
		<title>Building a Portfolio and Blog with Middleman and Github Pages - Part 2 | Christopher Janzen</title>
		<meta name="description" content="Part 2 in a series of posts about getting set up with Middleman and Github Pages.">
		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@cijanzen">
		<meta name="twitter:creator" content="@cijanzen">
		<meta property="og:url" content="http://www.christopherjanzen.com/blog/building-a-portfolio-and-blog-with-middleman-and-github-pages-part-2/">
		<meta property="og:title" content="Building a Portfolio and Blog with Middleman and Github Pages - Part 2">
		<meta property="og:description" content="Part 2 in a series of posts about getting set up with Middleman and Github Pages.">
		<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" />
		<link href="../../css/style.css" rel="stylesheet" />
		<script src="../../js/all.js" async="true"></script>
		<!-- Typekit Script -->
		<script>
			(function(d) {
				var config = {
					kitId: 'tec1mtr',
					scriptTimeout: 3000
				},
				h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='//use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
			})(document);
		</script>
	</head>
	<body class="blog blog_building-a-portfolio-and-blog-with-middleman-and-github-pages-part-2 blog_building-a-portfolio-and-blog-with-middleman-and-github-pages-part-2_index">
		<header class="nav">
<a id="nav-logo" href="http://www.christopherjanzen.com">				<img src="../../images/christopher-janzen-logo.svg" />
</a>			<ul>
				<li><a href="http://www.christopherjanzen.com/blog/">Blog</a></li>
				<li><a href="http://www.christopherjanzen.com#contact">Contact</a></li>
			</ul>
		</header>
		<div id="main" role="main">

	<article>
		<h1>Building a Portfolio and Blog with Middleman and Github Pages - Part 2</h1>
			<p class="subtitle">Setting up Middleman and modifying the config.rb and Gemfile</p>
		<p>In the <a href="http://www.christopherjanzen.com/blog/building-a-portfolio-and-blog-with-middleman-and-github-pages/">first article</a> of this series I provided the steps to get your machine ready for Ruby development; a necessary step before jumping into Middleman. This article will go over installing Middleman, choosing extensions to customize your site, and creating a configuration file to set this all up.</p>

<p>In my next article in this series we&rsquo;ll go over getting our project onto Github Pages, further customization, and templating.</p>

<p>If you&rsquo;ve been following along with <a href="http://www.christopherjanzen.com/blog/building-a-portfolio-and-blog-with-middleman-and-github-pages/">this series</a> you&rsquo;ll now have the necessary tools required to start with Middleman and Github. Unless you&rsquo;re fairly comfortable in a Ruby environment, or if you haven&rsquo;t read the first article, I recommend going back to follow the steps found there.</p>

<p>Before we begin I encourage you to check out the following resources:
<a href="https://middlemanapp.com/basics/install/">Middleman Docs</a> are helpful to get a better understanding of how all the pieces fit together.
This page on &ldquo;<a href="https://pages.github.com">Github Pages</a>&rdquo; provides some great instructions on getting your site onto the web.
Lastly, <a href="http://www.sitepoint.com/free-static-sites-middleman-github/">this article on free-static sites</a> fleshes out some of the ideas presented here.</p>

<h2>Installing Middleman</h2>

<p>Your first step is to install Middleman and its dependencies on your machine. Go ahead and open terminal and type this command:</p>

<pre><code class="language-bash">
$ gem install middleman
</code></pre>

<p>This instruction will download Middleman and everything else it needs for you to start building your site. Optionally, you can install the middleman blog at this time by typing <code>$ gem install middleman-blog</code> but I will be doing things a little differently.</p>

<p>Now that Middleman is installed we&rsquo;ll start by making a directory for our site to live in. You can either open up Finder and create a folder or, while in the command prompt, you can use the <code>mkdir</code> command to create your folder. Either way, if you plan to use Github Pages on a &lsquo;user&rsquo; site, you&rsquo;ll want to name the folder after the url you&rsquo;ll be using. To find out more about &#39;user&rsquo; pages checkout the <a href="https://pages.github.com">Github Pages</a> link I referenced earlier. Also, I am assuming you&rsquo;ve already created a Github account, which should be very straightforward.</p>

<h2>Starting a Project</h2>

<p>If, for example, I want my Github repository to be christopherjanzen.github.io then that is what I will name my folder. You&rsquo;ll replace the &ldquo;christopherjanzen&rdquo; part with your own github username. Once you&rsquo;ve created your folder you&rsquo;ll want to &#39;cd&rsquo; into it through the command prompt and type:</p>

<pre><code class="language-bash">
$ middleman init your_project_name
</code></pre>

<p>Of course you&rsquo;ll want to replace &#39;your<em>project</em>name&rsquo; with the name you&rsquo;d like to give your project. Again, this means for me that my project would be called <code>christopherjanzen.github.io</code>. Optionally, if you&rsquo;d like your site to primarily be a blog, you can install Middleman-Blog and add <code>--template=blog</code> to the end of the last command. This will create a different structure but will provide you with a better configuration up front. It&rsquo;s okay if you choose to skip this step, because I&rsquo;ll be explaining later how to add a blog in a sub-directory.</p>

<h2>Customization</h2>

<p>Once you&rsquo;ve initialized your new project a few files will be automatically created for you. The most important to begin with are the config.rb and gemfile files.</p>

<h3>Gemfile</h3>

<p>We&rsquo;re going to be editing the gemfile so go ahead and open that in your preferred text editor. Here are a few extensions I recommend using:</p>

<ul>
<li><a href="https://github.com/middleman/middleman-blog">middleman-blog</a> (used for creating a blog with Middleman)</li>
<li><a href="https://github.com/sparklemotion/nokogiri">nokogiri</a> (can be used for article summary truncation in blog)</li>
<li><a href="https://github.com/vmg/redcarpet">redcarpet</a> (used to change markdown style especially if you&rsquo;ll be using code blocks)</li>
<li><a href="https://github.com/middleman/middleman-syntax">middleman-syntax</a> (can be used to provide syntax highlighting if you&rsquo;ll be using code blocks)</li>
<li><a href="https://github.com/middleman/middleman-autoprefixer">middleman-autoprefixer</a> (an extension that removes the need to provide vendor prefixes in your css)</li>
<li><a href="https://github.com/middleman-contrib/middleman-deploy">middleman-deploy</a> (we&rsquo;ll use this to push our local site to our Github repository)</li>
<li><a href="https://github.com/Aupajo/middleman-search_engine_sitemap">middleman-search_engine_sitemap</a> (helps create a sitemap that can be uploaded to search engines)</li>
</ul>

<p>In order to get these extensions and install them you&rsquo;ll want to add <code>gem &quot;name_of_extension&quot;</code> to your gemfile. Save this and then, back at your command prompt, type <code>$ bundle install</code>. This will fetch the required extensions and any dependencies. Next we&rsquo;ll configure these extensions in our config file.</p>

<h3>Config.rb</h3>

<p>Open the config.rb file in your text editor. Depending on how you&rsquo;ve followed along so far you&rsquo;ll find a few settings already in place and a number of them are commented out. We&rsquo;ll be changing some of them and adding our own.</p>

<p>Here&rsquo;s my blog configuration from my config.rb file:</p>

<p><pre><code class="language-ruby">
activate :blog do |blog|
    blog.prefix = &#39;blog&#39;
    blog.sources = &#39;articles/{year}-{month}-{day}-{title}.html&#39;
    blog.permalink = &#39;{title}&#39;
    blog.default<em>extension = &#39;.markdown&#39;
    blog.layout = &#39;/blog/blog</em>layout&#39;
    blog.tag<em>template = &#39;tag.html&#39;
    blog.calendar</em>template = &#39;calendar.html&#39;
    # Enable pagination
    blog.paginate = true
    blog.per<em>page = 10
    blog.page</em>link = &#39;page/{num}.html&#39;
    blog.custom_collections = {
        category: {
            link: &#39;/categories/{category}.html&#39;,
            template: &#39;/category.html&#39;
        }
    }
end
</pre></code></p>

<p>Depending on where you want your blog and articles you will want to change their respective paths. My blog is located at domain.com/blog/ and my articles are kept in a subfolder called articles. Check out the docs for further information on this so you can customize it to your liking.</p>

<p>I won&rsquo;t go over every configuration setting in this post here but if you want to see my config file you can <a href="https://github.com/christopherjanzen/christopherjanzen.github.io/blob/source/config.rb">check it out</a>. It is important that certain configuration settings go in order, otherwise you&rsquo;ll end up with some issues. Most importantly make sure your blog settings come before <code>relative_links</code> and that <code>relative_links</code> comes before <code>directory_indexes</code>.</p>

<h2>Wrapping up</h2>

<p>Once you&rsquo;ve figured out your config and gemfile we&rsquo;ll be ready to start building our templates. To recap, what we&rsquo;ve done so far is prepared our machine for Ruby development, installed Middleman, created a project, and modified our config.rb and Gemfile. This sets us up nicely to start working on templates (how our site is displayed) which will be covered in the next articles where I will cover how to push everything to Github, and customizing your site.</p>

<p>As always, if you find any issues please feel free to send me any corrections through <a href="https://github.com/christopherjanzen/christopherjanzen.github.io">Github</a>, <a href="http://www.christopherjanzen.com#contact">email</a> or <a href="http://www.twitter.com/cijanzen">Twitter</a>.</p>

	</article>
</div>
<!-- <aside>
	  <h2>Recent Articles</h2>
	  <ol>
		  <li><a href="../building-a-portfolio-and-blog-with-middleman-and-github-pages-part-3/">Building a Portfolio and Blog with Middleman and Github Pages - Part 3</a> <span>Mar 13</span></li>
		  <li><a href="../eulogy-for-rdio/">Eulogy for Rdio</a> <span>Nov 24</span></li>
		  <li><a href="./">Building a Portfolio and Blog with Middleman and Github Pages - Part 2</a> <span>Jul  9</span></li>
		  <li><a href="../starting-is-hard/">Starting is Hard</a> <span>Jun 28</span></li>
		  <li><a href="../building-a-portfolio-and-blog-with-middleman-and-github-pages/">Building a Portfolio and Blog with Middleman and Github Pages</a> <span>Jun 16</span></li>
	  </ol>

	  <h2>Tags</h2>
	  <ol>
	  </ol>

	  <h2>By Year</h2>
	  <ol>
		  <li><a href="/blog/2016/">2016 (1)</a></li>
		  <li><a href="/blog/2015/">2015 (4)</a></li>
	  </ol>
</aside> -->
	<script src="/js/prism.js"></script>
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-62698110-1', 'auto');
		ga('require', 'linkid', 'linkid.js');
		ga('send', 'pageview');
	</script>
  </body>
</html>
